<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–°–¥–µ–ª–∞–π—Ç–µ 6 —Ñ–æ—Ç–æ</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
      background: #f9f9f9;
    }
    h2 {
      text-align: center;
      color: #333;
    }
    .photo-item {
      margin: 15px 0;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
      color: #555;
    }
    input[type="file"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      width: 100%;
      padding: 14px;
      background: #0088cc;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .preview {
      margin-top: 8px;
      max-width: 100%;
      height: auto;
      display: none;
    }
  </style>
</head>
<body>
  <h2>üì∏ –°–¥–µ–ª–∞–π—Ç–µ 6 —Ñ–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã</h2>
  <form id="uploadForm">
    <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 6 –ø–æ–ª–µ–π -->
    <div class="photo-item">
      <label>–§–æ—Ç–æ 1</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 1)">
      <img id="preview1" class="preview">
    </div>
    <div class="photo-item">
      <label>–§–æ—Ç–æ 2</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 2)">
      <img id="preview2" class="preview">
    </div>
    <div class="photo-item">
      <label>–§–æ—Ç–æ 3</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 3)">
      <img id="preview3" class="preview">
    </div>
    <div class="photo-item">
      <label>–§–æ—Ç–æ 4</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 4)">
      <img id="preview4" class="preview">
    </div>
    <div class="photo-item">
      <label>–§–æ—Ç–æ 5</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 5)">
      <img id="preview5" class="preview">
    </div>
    <div class="photo-item">
      <label>–§–æ—Ç–æ 6</label>
      <input type="file" accept="image/*" capture="environment" required onchange="preview(this, 6)">
      <img id="preview6" class="preview">
    </div>

    <button type="submit" id="submitBtn">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–æ—Ç–æ</button>
  </form>

  <script>
    // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    function preview(input, num) {
      const preview = document.getElementById(`preview${num}`);
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          preview.src = e.target.result;
          preview.style.display = 'block';
        };
        reader.readAsDataURL(input.files[0]);
      }
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
    document.getElementById('uploadForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = new FormData();
      const inputs = document.querySelectorAll('input[type="file"]');

      // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã –≤ FormData
      for (let i = 0; i < inputs.length; i++) {
        if (!inputs[i].files[0]) {
          alert(`–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ ‚Ññ${i + 1}`);
          return;
        }
        formData.append('photos', inputs[i].files[0]);
      }

      // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
      // –ù–∞–ø—Ä–∏–º–µ—Ä: fetch('https://–≤–∞—à-–¥–æ–º–µ–Ω.com/submit', { method: 'POST', body: formData })

      // –î–ª—è Telegram WebApp: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª –æ–± —É—Å–ø–µ—Ö–µ
      const successData = { status: "success", count: 6 };

      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.sendData(JSON.stringify(successData));
        window.Telegram.WebApp.close();
      } else {
        alert('‚úÖ –í—Å–µ 6 —Ñ–æ—Ç–æ –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ!');
        console.log('–î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:', successData);
      }
    });
  </script>
</body>
</html>
